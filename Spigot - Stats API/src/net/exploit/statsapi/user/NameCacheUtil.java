package net.exploit.statsapi.user;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.UUID;

import org.bukkit.event.Listener;

import net.exploit.statsapi.main.StatsAPI;
import net.exploit.statsapi.mysql.MySQL;

public class NameCacheUtil implements Listener {

	private static MySQL mysql = StatsAPI.getApi().getMySQL();

	public static String getNameByUUID(String uuid) {
		ResultSet rs;
		try {
			rs = mysql.query("SELECT name FROM users WHERE uuid='" + uuid + "'");
			if (rs.next())
				return rs.getString("name");
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return null;
	}

	public static String getNameByUUID(UUID uuid) {
		return getNameByUUID(uuid.toString());
	}

	public static UUID getUUIDByName(String name) {
		ResultSet rs;
		try {
			rs = mysql.query("SELECT uuid FROM users WHERE name='" + name + "'");
			if (rs.next())
				return UUID.fromString(rs.getString("uuid"));
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return null;
	}
}
